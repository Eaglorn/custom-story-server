// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["omitApi"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model registration_check {
  id       Int                     @id @default(autoincrement())
  email    String?                 @unique
  password String?
  code     String?
  date     BigInt?                 @db.BigInt
  type     registration_check_type @default(code_write)
}

enum registration_check_type {
  code_write
  history_read
  hero_create
}

model user {
  id       Int       @id @default(autoincrement())
  email    String?   @unique
  password String?
  type     user_type @default(user)
  hero     hero?
}

enum user_type {
  admin
  moderator
  vip
  user
}

model hero {
  id              Int              @id @default(autoincrement())
  user            user?            @relation(fields: [user_id], references: [id])
  user_id         Int?             @unique
  money           String?
  body            String?
  int             String?
  equipment       equipment_item[]
  container_slots Int?             @default(10) @db.SmallInt
  container       container_item[]
}

model equipment_item {
  id      BigInt              @id @default(autoincrement())
  hero    hero                @relation(fields: [hero_id], references: [id])
  hero_id Int                 @unique
  slot    equipment_item_slot
}

enum equipment_item_slot {
  head
  shoulders
  body
  bracers
  gloves
  belt
  legs
  boots
  left_hand
  right_hand
  both_hand
}

model container_item {
  id      BigInt @id @default(autoincrement())
  hero    hero   @relation(fields: [hero_id], references: [id])
  hero_id Int    @unique
}
