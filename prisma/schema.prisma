// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model registration_check {
  id       Int       @id @default(autoincrement())
  email    String?   @unique
  password String?
  code     String?
  date     String?
}

model user {
  id       Int       @id @default(autoincrement())
  email    String?   @unique
  password String?
  type     user_type @default(user)
  hero     hero?
}

enum user_type {
  admin
  moderator
  vip
  user
}

model hero {
  id              Int              @id @default(autoincrement())
  user            user?            @relation(fields: [user_id], references: [id])
  user_id         Int?             @unique
  money           Decimal          @default(0.0) @db.Decimal(15, 3)
  hp              Decimal          @default(0.0) @db.Decimal(9, 3)
  mp              Decimal          @default(0.0) @db.Decimal(9, 3)
  str             Decimal          @default(10.0) @db.Decimal(7, 3)
  agi             Decimal          @default(10.0) @db.Decimal(7, 3)
  vit             Decimal          @default(10.0) @db.Decimal(7, 3)
  sta             Decimal          @default(10.0) @db.Decimal(7, 3)
  int             Decimal          @default(10.0) @db.Decimal(7, 3)
  wis             Decimal          @default(10.0) @db.Decimal(7, 3)
  equipment       equipment_item[]
  container_slots Int?             @default(10) @db.SmallInt
  container       container_item[]
}

model equipment_item {
  id      BigInt              @id @default(autoincrement())
  hero    hero                @relation(fields: [hero_id], references: [id])
  hero_id Int                 @unique
  slot    equipment_item_slot
}

enum equipment_item_slot {
  head
  shoulders
  body
  bracers
  gloves
  belt
  legs
  boots
  left_hand
  right_hand
  both_hand
}

model container_item {
  id      BigInt @id @default(autoincrement())
  hero    hero   @relation(fields: [hero_id], references: [id])
  hero_id Int    @unique
}
